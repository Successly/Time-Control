<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>计算某一日期前(后)多天的日期</title>
</head>
<body>
	
</body>
<script>

//获取指定日期的相差多少天的日期
// 前多少天日期
function reduceByTransDate(dateParameter, num) {
var translateDate = "", dateString = "", monthString = "", dayString = "";
translateDate = dateParameter.replace(/-/g, "/").replace(/-/g, "/"); ;
var newDate = new Date(translateDate);
newDate = newDate.valueOf();
newDate = newDate - num * 24 * 60 * 60 * 1000; //备注 如果是往前计算日期则为减号 否则为加号
newDate = new Date(newDate);
//如果月份长度少于2，则前加 0 补位  
if ((newDate.getMonth() + 1).toString().length == 1) {
monthString = 0 + "" + (newDate.getMonth() + 1).toString();
} else {
monthString = (newDate.getMonth() + 1).toString();
}
//如果天数长度少于2，则前加 0 补位  
if (newDate.getDate().toString().length == 1) {
dayString = 0 + "" + newDate.getDate().toString();
} else {
dayString = newDate.getDate().toString();
}
dateString = newDate.getFullYear() + "-" + monthString + "-" + dayString;
return dateString;
}

//后多少天日期
function addByTransDate(dateParameter, num) {
var translateDate = "", dateString = "", monthString = "", dayString = "";
translateDate = dateParameter.replace(/-/g, "/").replace(/-/g, "/"); ;
var newDate = new Date(translateDate);
newDate = newDate.valueOf();
newDate = newDate +num * 24 * 60 * 60 * 1000; //备注 如果是往前计算日期则为减号 否则为加号
newDate = new Date(newDate);
//如果月份长度少于2，则前加 0 补位  
if ((newDate.getMonth() + 1).toString().length == 1) {
monthString = 0 + "" + (newDate.getMonth() + 1).toString();
} else {
monthString = (newDate.getMonth() + 1).toString();
}
//如果天数长度少于2，则前加 0 补位  
if (newDate.getDate().toString().length == 1) {
dayString = 0 + "" + newDate.getDate().toString();
} else {
dayString = newDate.getDate().toString();
}
dateString = newDate.getFullYear() + "-" + monthString + "-" + dayString;
return dateString;
}
console.log(reduceByTransDate('2012-2-29',1));
console.log(addByTransDate('2012-12-31',1));


//相差的天数
function timeRange(s1,s2){
    s1 = s1.replace(/-/g, "/");  
    s2 = s2.replace(/-/g, "/");  
    s1 = new Date(s1);  
    s2 = new Date(s2);  
  
    var days= s1.getTime() - s2.getTime();  
    var time = parseInt(days / (1000 * 60 * 60 * 24)); 
    return time;
}

var s1 = "2007-1-1";  
var s2 = "2007-12-31";  
console.log(timeRange(s2,s1));
</script>
</html>